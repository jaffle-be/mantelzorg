!function(t,e,n,a){"use strict";function o(t){return n.Donut({element:t,data:[{label:"loading",value:""}],resize:!0})}function i(t){return n.Bar({element:t,data:[],xkey:"key",ykeys:["doc_count"],labels:["Aantal"]}).on("click",function(t,e){p(e,1)})}function s(e,n){t.ajax({url:"/stats/insights/ouderen",type:"POST",dataType:"json",data:{field:e},success:function(t){n.setData(t)},error:function(t){n.setData([])}})}function u(e,n){var a=t("#question-multiple-choise");n.multiple_choise?(e.setData(n.answers),a.show()):a.hide()}function l(e,n){var a=t("#question-regular");n.terms?(e.setData(n.terms.buckets),a.show()):a.hide()}function r(e,n){var a=t("#panel").val(),o=t("#question").val();t.ajax({url:"/stats/insights/question",type:"POST",dataType:"json",data:{panel:a,question:o},success:function(t){u(n,t),l(e,t),t.questions&&c(t.questions)}})}function c(e){var n=t("#question");n.html(""),_.each(function(e){n.append(t("<option>",{value:e.id,html:e.title}))})}function f(){var e=t("#question");e.html("")}function p(e,n){t.ajax({url:"/stats/insights/term",type:"POST",dataType:"json",data:{question:t("#question").val(),term:e.key},success:function(e){var n=t("#question-term");n.html(""),_.each(e.data,function(e){n.append(t("<p>",{html:e.explanation}))})}})}a.locale("nl"),t(document).ready(function(){var e=o("woonsituatie"),n=o("mantelzorger_relation"),a=o("bel_profiel"),u=o("oorzaak_hulpbehoefte"),l=o("question-multiple-choise"),c=i("question-regular");s("woonsituatie",e),s("mantelzorger_relation",n),s("bel_profiel",a),s("oorzaak_hulpbehoefte",u),r(c,l),t("#panel").on("change",function(){f(),r(c,l)}),t("#question").on("change",function(){r(c,l)})})}(window.jQuery,window.app,window.Morris,window.moment);