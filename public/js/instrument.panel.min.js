!function(n){"use strict";function i(i){n(".instrument-question").each(function(i,t){s(n(t))}),n(":animated").promise().done(function(){i&&t(i)})}function t(n){n.find(".header .glyphicon-edit").hide(),n.find(".header .glyphicon-comment").show(),n.find(".body .well").hide(),n.find(".body").slideDown(),o(n)}function e(n){var i=n.closest(".instrument-question").find(".well");"none"==i.css("display")?i.show():i.hide()}function o(i){n("html,body").animate({scrollTop:i.offset().top},"slow")}function s(n){n.find(".header .glyphicon-edit").show(),n.find(".header .glyphicon-comment").hide(),n.find(".body").slideUp()}function c(n){var i=n.find("input[type=radio],input[type=checkbox]"),t=n.closest(".row").find(".question-status"),e=n.find("textarea");return i.size()>0?i.filter(":checked").size()>0||e.size()>0&&""!=e.val()?d(t):u(t):""==e.val()?u(t):d(t)}function u(n){return n.find(".glyphicon-question-sign").show(),n.find(".glyphicon-ok").hide(),!1}function d(n){return n.find(".glyphicon-question-sign").hide(),n.find(".glyphicon-ok").show(),!0}n(document).ready(function(){n(".instrument-questions").on("click",".instrument-question .header",function(){"block"==n(this).closest(".instrument-question").find(".body").css("display")?i():i(n(this).closest(".instrument-question"))}),n(".instrument-questions").on("change","input,textarea",function(){c(n(this).closest(".row").find(".instrument-question"))}),n(".instrument-questions").on("click",".glyphicon-comment",function(){return e(n(this)),!1}),n(".instrument-header").on("click","a",function(i){n("#next_panel").val(n(this).data("target-id")),n("#panel-form").submit(),i.preventDefault()})})}(window.jQuery,window.app);