!function(n){"use strict";function t(t){n(".instrument-question").each(function(t,i){s(n(i))}),n(":animated").promise().done(function(){t&&i(t)})}function i(t){t.find('.header [data-show-on="not-editing"]').hide(),t.find('.header [data-show-on="editing"]').show(),t.find(".body .well").hide(),t.find(".body").slideDown(),n("body").hasClass("tablet")||o(t)}function e(n){var t=n.closest(".instrument-question").find(".well");"none"==t.css("display")?t.show():t.hide()}function o(t){n("html,body").animate({scrollTop:t.offset().top},"slow")}function s(n){n.find('.header [data-show-on="not-editing"]').show(),n.find('.header [data-show-on="editing"]').hide(),n.find(".body").slideUp()}function d(n){var t=n.find("input[type=radio],input[type=checkbox]"),i=n.closest(".row").find(".question-status"),e=n.find("textarea");return t.size()>0?t.filter(":checked").size()>0||e.size()>0&&""!=e.val()?a(i):u(i):""==e.val()?u(i):a(i)}function u(n){return n.find(".fa-question-circle").show(),n.find(".fa-check").hide(),!1}function a(n){return n.find(".fa-question-circle").hide(),n.find(".fa-check").show(),!0}n(document).ready(function(){n(".instrument-header").on("click",function(){n(this).find("ul").slideToggle()}),n(".instrument-questions").on("click",".instrument-question .header",function(){"block"==n(this).closest(".instrument-question").find(".body").css("display")?t():t(n(this).closest(".instrument-question"))}),n(".instrument-questions").on("change","input,textarea",function(){d(n(this).closest(".row").find(".instrument-question"))}),n(".instrument-questions").on("click",'[data-trigger="toggle-comment"]',function(){return e(n(this)),!1}),n(".instrument-header").on("click","a",function(t){n("#next_panel").val(n(this).data("target-id")),n("#panel-form").submit(),t.preventDefault()})})}(window.jQuery,window.app);