(function(f,b){function j(k){f(".instrument-question").each(function(l,m){e(f(m))});f(":animated").promise().done(function(){if(k){i(k)}})}function i(k){k.find(".header .glyphicon-edit").hide();k.find(".header .glyphicon-comment").show();k.find(".body .well").hide();k.find(".body").slideDown();h(k)}function d(k){var l=k.closest(".instrument-question").find(".well");if(l.css("display")=="none"){l.show()}else{l.hide()}}function h(k){f("html,body").animate({scrollTop:k.offset().top},"slow")}function e(k){k.find(".header .glyphicon-edit").show();k.find(".header .glyphicon-comment").hide();k.find(".body").slideUp()}function g(l){var m=l.find("input[type=radio],input[type=checkbox]"),k=l.closest(".row").find(".question-status");if(m.size()>0){if(m.filter(":checked").size()==0){return c(k)}else{return a(k)}}else{if(l.find("textarea").val()==""){return c(k)}else{return a(k)}}}function c(k){k.find(".glyphicon-question-sign").show();k.find(".glyphicon-ok").hide();return false}function a(k){k.find(".glyphicon-question-sign").hide();k.find(".glyphicon-ok").show();return true}f(document).ready(function(){f(".instrument-questions").on("click",".instrument-question .header",function(){if(f(this).closest(".instrument-question").find(".body").css("display")=="block"){j()}else{j(f(this).closest(".instrument-question"))}});f(".instrument-questions").on("change","input,textarea",function(){g(f(this).closest(".row").find(".instrument-question"))});f(".instrument-questions").on("click",".glyphicon-comment",function(k){d(f(this));return false});f(".instrument-header").on("click","a",function(k){f("#next_panel").val(f(this).data("target-id"));f("#panel-form").submit();k.preventDefault()})})})(window.jQuery,window.app);