!function(n){"use strict";function e(e){n(".instrument-question").each(function(e,i){s(n(i))}),n(":animated").promise().done(function(){e&&i(e)})}function i(n){n.find(".header .glyphicon-edit").hide(),n.find(".header .glyphicon-comment").show(),n.find(".body .well").hide(),n.find(".body").slideDown(),o(n)}function t(n){var e=n.closest(".instrument-question").find(".well");"none"==e.css("display")?e.show():e.hide()}function o(e){n("html,body").animate({scrollTop:e.offset().top},"slow")}function s(n){n.find(".header .glyphicon-edit").show(),n.find(".header .glyphicon-comment").hide(),n.find(".body").slideUp()}function c(n){var e=n.find("input[type=radio],input[type=checkbox]"),i=n.closest(".row").find(".question-status"),t=n.find("textarea");return e.size()>0?e.filter(":checked").size()>0||t.size()>0&&""!=t.val()?u(i):d(i):""==t.val()?d(i):u(i)}function d(n){return n.find(".fa-question-circle").show(),n.find(".fa-check").hide(),!1}function u(n){return n.find(".fa-question-circle").hide(),n.find(".fa-check").show(),!0}n("body.tablet").css({"max-height":n(window).height(),height:n(window).height()});var h=n(window).outerHeight()-n("header").outerHeight()-n("#page-header").outerHeight();n("body.tablet #content").css({"max-height":h,"min-height":h,height:h}),n(document).ready(function(){n(".instrument-header").on("click",function(){n(this).find("ul").slideToggle()})}),n(document).ready(function(){n(".instrument-questions").on("click",".instrument-question .header",function(){"block"==n(this).closest(".instrument-question").find(".body").css("display")?e():e(n(this).closest(".instrument-question"))}),n(".instrument-questions").on("change","input,textarea",function(){c(n(this).closest(".row").find(".instrument-question"))}),n(".instrument-questions").on("click",".glyphicon-comment",function(){return t(n(this)),!1}),n(".instrument-header").on("click","a",function(e){n("#next_panel").val(n(this).data("target-id")),n("#panel-form").submit(),e.preventDefault()})})}(window.jQuery,window.app);