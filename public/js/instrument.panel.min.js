(function(e,b){function i(j){e(".instrument-question").each(function(k,l){d(e(l))});e(":animated").promise().done(function(){if(j){h(j)}})}function h(j){j.find(".header .glyphicon-edit").hide();j.find(".header .glyphicon-comment").show();j.find(".body").slideDown();g(j)}function g(j){e("html,body").animate({scrollTop:j.offset().top},"slow")}function d(j){j.find(".header .glyphicon-edit").show();j.find(".header .glyphicon-comment").hide();j.find(".body").slideUp()}function f(k){var l=k.find("input[type=radio],input[type=checkbox]"),j=k.closest(".row").find(".question-status");if(l.size()>0){if(l.filter(":checked").size()==0){return c(j)}else{return a(j)}}else{if(k.find("textarea").val()==""){return c(j)}else{return a(j)}}}function c(j){j.find(".glyphicon-question-sign").show();j.find(".glyphicon-ok").hide();return false}function a(j){j.find(".glyphicon-question-sign").hide();j.find(".glyphicon-ok").show();return true}e(document).ready(function(){e(".instrument-questions").on("click",".instrument-question .header",function(){if(e(this).closest(".instrument-question").find(".body").css("display")=="block"){i()}else{i(e(this).closest(".instrument-question"))}});e(".instrument-questions").on("change","input,textarea",function(){f(e(this).closest(".row").find(".instrument-question"))});e(".instrument-footer .btn-primary").on("click",function(k){var j=true;e(".instrument-question").each(function(){if(!f(e(this))){j=false}});if(!j){k.preventDefault()}})})})(window.jQuery,window.app);