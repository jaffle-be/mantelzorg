app={datepickers:function(){$(".datepicker").datepicker({viewMode:"years",format:"dd/mm/yyyy",language:"nl"})},confirm:function(t,e){var i=$("#confirmation");i.modal(),i.on("click",".btn-confirm",function(){t(),i.modal("hide")}),i.on("click",".btn-default",function(){"function"==typeof e&&e()})}},function(t,e){"use strict";t(document).ready(function(){function i(){this.$creator=t("#organisation-creator"),this.$organisation=t("#organisation"),this.$new=this.$creator.find("[name=organisation_name]"),this.$location=t("#location"),this.init()}"undefined"==typeof e.organisation&&(e.organisation={}),i.prototype={init:function(){this.events()},events:function(){var i=this;this.$creator.on("click",".btn-primary",function(){i.create()}),this.$organisation.on("change",function(){"new"===t(this).val()?i.$creator.modal("show",function(){i.$new.focus()}):e.locations.loader.load(t(this).val())}),this.$creator.on("click",'[data-dismiss="modal"]',function(){var t=i.$organisation.data("original");i.$organisation.val(t),e.locations.loader.load(t,!0)}),this.$creator.on("submit","form",function(t){i.$creator.find(".btn-primary").trigger("click"),t.preventDefault()})},create:function(){var t=this;""!==this.$new.val()&&this.persist(function(e){t.cleanErrors(),"oke"===e.status?t.success(e):t.error(e)})},persist:function(e){t.ajax({url:"/organisations",type:"POST",data:{name:this.$new.val()},dataType:"json",success:function(t){e(t)}})},success:function(t){this.$creator.find(".alert").addClass("hide"),this.add(t.organisation),this.$new.val(""),this.$creator.modal("hide"),e.locations.loader.load(t.organisation.id)},error:function(e){var i=e.errors.name;for(var n in i)this.$creator.find(".alert").append(t("<span>",{text:i[n]})).removeClass("hide")},add:function(e){this.$organisation.find("option:last-child").before(t("<option>",{value:e.id,html:e.name,selected:!0}))},cleanErrors:function(){this.$creator.find(".alert").html("")}},t(document).ready(function(){e.organisation.creator=new i})})}(window.jQuery,window.app),function(t,e){"use strict";t(document).ready(function(){function i(){this.$modal=t("#locations-creator"),this.$location=t("#location"),this.$organisation=t("#organisation"),this.creating=!1,this.initialValue=this.$location.val(),this.init()}function n(){this.$organisation=t("#organisation"),this.$location=t("#location"),this.events()}"undefined"==typeof e.locations&&(e.locations={}),i.prototype={init:function(){this.events()},events:function(){var e=this;e.$location.on("change",function(){"new"===t(this).val()&&(e.cleanErrors(),e.$modal.modal("show"))}),e.$modal.on("click",".btn-primary",function(){e.creating=!0,e.create()}),e.$modal.on("hidden.bs.modal",function(){0==e.creating&&e.cancel()})},create:function(){var t=this;t.validateInput()&&t.persist(function(e){t.cleanErrors(),"oke"===e.status?t.success(e):t.error(e),t.creating=!1})},persist:function(e){var i=this;t.ajax({url:"/organisations/"+i.$organisation.val()+"/locations",type:"POST",data:{name:this.$modal.find("[name=name]").val(),street:this.$modal.find("[name=street]").val(),postal:this.$modal.find("[name=postal]").val(),city:this.$modal.find("[name=city]").val()},success:function(t){e(t)}})},cancel:function(){var e=this,i=this.$location.find("option").filter(function(){return t(this).val()==e.initialValue});this.$location.val(i.size()>0?this.initialValue:this.$location.find("option:first").val())},success:function(t){this.$modal.find(".alert").addClass("hide"),this.add(t.location),this.emptyFields(),this.initialValue=t.location.id,this.$modal.modal("hide")},error:function(t){var e=t.errors;for(var i in e)for(var n in e[i]){var s=this.$modal.find(".alert[data-target="+i+"]"),a=s.html();s.html(a+e[i][n]),s.removeClass("hide")}},emptyFields:function(){this.$modal.find("[name=street]").val(""),this.$modal.find("[name=postal]").val(""),this.$modal.find("[name=city]").val(""),this.$modal.find("[name=name]").val("")},add:function(e){this.$location.find("option:last-child").before(t("<option>",{value:e.id,html:e.name})),this.$location.val(e.id)},cleanErrors:function(){this.$modal.find(".alert").html("").addClass("hide")},validateInput:function(){return!0}},n.prototype={events:function(){},load:function(e,i){if("undefined"==typeof i&&(i=!1),e){var n=this;t.ajax({url:"/organisations/"+e+"/locations/",dataType:"json",success:function(t){n.fill(t,i)}})}else this.fill([],i)},fill:function(t,e){var i=this.$location.find("option"),n=i.filter(':first-child[value=""]');i.not(':last-child[value="new"], :first-child[value=""]').remove();var s=0;for(var a in t){var o=this.getNewOption(t[a]);0==s&&0==n.size()?(n=o,this.$location.prepend(o)):n.after(o)}this.$location.val(e?this.$location.data("original"):this.$location.find("option:first").val()),this.toggle(t.length>0)},getNewOption:function(e){return t("<option>",{value:e.id,html:e.name})},toggle:function(t){t?this.$location.parents(".holder").removeClass("hide"):this.$location.parents(".holder").addClass("hide")}},e.locations.creator=new i,e.locations.loader=new n})}(window.jQuery,window.app),function(t,e){"use strict";function i(){this.$creator=t("#questionnaire-creator"),this.$trigger=t(".page-actions .btn-primary"),this.init()}"undefined"==typeof e.questionnaire&&(e.questionnaire={}),i.prototype={init:function(){this.events()},events:function(){var t=this;this.$trigger.on("click",function(){t.$creator.modal("show")}),this.$creator.on("click",".btn-primary",function(){t.create()}),this.$creator.on("click",'[data-dismiss="modal"]',function(){t.reset()})},create:function(){var t=this;this.persist(function(e){"oke"===e.status?t.success(e):t.error(e)})},persist:function(e){var i=this;t.ajax({url:"/questionnaires",type:"POST",data:i.data(),dataType:"json",success:function(t){e(t)}})},data:function(){return{title:this.$creator.find("input[type=text]").val(),active:this.$creator.find("input[type=checkbox]").prop("checked")?"1":"0"}},success:function(){window.location.reload()},error:function(t){for(var e in t.errors)this.$creator.find(".alert-danger").append(t.errors[e]).removeClass("hide")},reset:function(){this.$creator.find("input[type=text]").val(""),this.$creator.find("input[type=checkbox]").prop("checked",!1),this.$creator.find(".alert-danger").html("").addClass("hide")}},t(document).ready(function(){e.questionnaire.creator=new i})}(window.jQuery,window.app),function(t,e){"use strict";function i(){this.$creator=t("#panel-creator"),this.$triggers=t(".questionnaires [data-toggle=panel-creator]"),this.$id=this.$creator.find("#questionnaire-id"),this.init()}"undefined"==typeof e.questionnaire&&(e.questionnaire={}),i.prototype={init:function(){this.events()},events:function(){var e=this;this.$triggers.on("click",function(i){var n=t(this).closest(".row").data("questionnaire-id");e.open(n),i.preventDefault()}),this.$creator.on("click",".btn-primary",function(){e.create()})},create:function(){var t=this;this.persist(function(e){"oke"===e.status?t.success(e):t.error(e)})},persist:function(e){var i=this;t.ajax({url:"/questionnaires/"+i.questionnaire()+"/panels",type:"POST",dataType:"json",data:i.data(),success:function(t){e(t)}})},success:function(){window.location.reload()},error:function(){},open:function(t){this.$id.val(t),this.$creator.modal("show")},data:function(){return{title:this.$creator.find("input[type=text]").val()}},questionnaire:function(){return this.$id.val()}},t(document).ready(function(){e.questionnaire.panel=new i})}(window.jQuery,window.app),function(t,e){"use strict";function i(){this.$container=t(".questionnaires"),this.titles=".questionnaire-title",this.activators=".icons .header .glyphicon-check, .icons .header .glyphicon-unchecked",this.sortables=".sortable",this.panelTitles=".questionnaire-panel-title",this.colorSelectors=".dropdown-menu .panel-color",this.colors=["blue","red","gray","yellow","green","orange","purple"],this.init()}"undefined"==typeof e.questionnaire&&(e.questionnaire={}),i.prototype={init:function(){var e=this;this.events(),this.$container.find(this.sortables).sortable({update:function(){e.sort(t(this))}})},events:function(){var e=this;this.$container.on("change",this.titles,function(){e.title(t(this))}),this.$container.on("change",this.panelTitles,function(){e.panelTitle(t(this))}),this.$container.on("click",this.activators,function(){e.activation(t(this))}),this.$container.on("click",this.colorSelectors,function(i){e.color(t(this)),i.preventDefault()})},title:function(e){t.ajax({url:"/questionnaires/"+this.questionnaire(e),type:"POST",data:{title:e.val(),_method:"PUT"},dataType:"json",success:function(t){"oke"===t.status&&(e.closest(".row").find(".icons .body i").removeClass("fade"),setTimeout(function(){e.closest(".row").find(".icons .body i").addClass("fade")},3e3))}})},activation:function(e){var i=e.hasClass("glyphicon-unchecked")?!0:!1;t.ajax({url:"/questionnaires/"+this.questionnaire(e),type:"POST",data:{_method:"PUT",active:i?"1":"0"},dataType:"json",success:function(){i?(e.closest(".questionnaires").find(".glyphicon-check").each(function(){t(this).addClass("glyphicon-unchecked").removeClass("glyphicon-check")}),e.removeClass("glyphicon-unchecked").addClass("glyphicon-check")):e.addClass("glyphicon-unchecked").removeClass("glyphicon-check")}})},panelTitle:function(e){var i=this;t.ajax({url:"/questionnaires/"+this.questionnaire(e)+"/panels/"+this.panel(e),type:"POST",data:{title:e.val(),_method:"PUT"},dataType:"json",success:function(t){var n=i.position(e.data("panel-weight"));"oke"===t.status&&(e.closest(".row").find(".savers .body ul li:nth-child("+n+") i").removeClass("fade"),setTimeout(function(){e.closest(".row").find(".savers .body ul li:nth-child("+n+") i").addClass("fade")},3e3))}})},sort:function(e){var i=this.questionnaire(e),n=e.sortable("toArray");t.ajax({url:"/questionnaires/"+i+"/panels/sort",type:"POST",dataType:"json",data:{positions:n},success:function(){}})},color:function(e){var i=this,n=e.parents(".colors").find(".dropdown-toggle .panel-color"),s=this.currentColor(e);t.ajax({type:"POST",url:"/questionnaires/"+this.questionnaire(e)+"/panels/"+this.panel(e),data:{_method:"PUT",color:s},dataType:"json",success:function(t){"oke"===t.status&&i.changeColor(n,i.currentColor(n),s)}})},currentColor:function(t){for(var e in this.colors)if(t.hasClass("panel-"+this.colors[e]))return this.colors[e]},changeColor:function(t,e,i){t.removeClass("panel-"+e).addClass("panel-"+i)},position:function(t){return t/10+1},questionnaire:function(t){return t.closest(".row").data("questionnaire-id")},panel:function(t){return t.closest("li[data-questionnaire-panel-id]").data("questionnaire-panel-id")}},t(document).ready(function(){e.questionnaire.saver=new i})}(window.jQuery,window.app),function(t,e){"use strict";function i(){this.$creator=t("#question-creator"),this.$trigger=t(".question-creator-trigger"),this.$id=t("#panel-id"),this.init()}"undefined"==typeof e.questionnaire&&(e.questionnaire={}),i.prototype={init:function(){this.events()},events:function(){var t=this;this.$trigger.on("click",function(e){t.open(),e.preventDefault()}),this.$creator.on("click",".btn-primary",function(){t.create()})},create:function(){var t=this;this.persist(function(e){"oke"===e.status?t.success(e):t.error(e)})},persist:function(e){var i=this;t.ajax({url:"/panels/"+i.panel()+"/questions",type:"POST",dataType:"json",data:i.data(),success:function(t){e(t)}})},success:function(){window.location.reload()},error:function(){},open:function(){this.$creator.modal("show")},data:function(){return{title:this.$creator.find("input[name=title]").val(),question:this.$creator.find("textarea[name=question]").val(),summary_question:this.$creator.find("input[name=summary_question]").prop("checked")?1:0,explainable:this.$creator.find("input[name=explainable]").prop("checked")?1:0,multiple_choise:this.$creator.find("input[name=multiple_choise]").prop("checked")?1:0}},panel:function(){return this.$id.val()}},t(document).ready(function(){e.questionnaire.question=new i})}(window.jQuery,window.app),function(t,e){"use strict";function i(){this.$creator=t("#choise-creator"),this.$trigger=t(".add-choise"),this.init()}"undefined"==typeof e.questionnaire&&(e.questionnaire={}),i.prototype={init:function(){this.events()},events:function(){var e=this;this.$trigger.on("click",function(i){e.open(t(this).closest(".question").data("question-id")),i.preventDefault()}),this.$creator.on("click",".btn-primary",function(){e.create()})},create:function(){var t=this;this.persist(function(e){"oke"===e.status?t.success(e):t.error(e)})},persist:function(e){var i=this;t.ajax({url:"/questions/"+i.questionid+"/choises",type:"POST",dataType:"json",data:i.data(),success:function(t){e(t)}})},success:function(){window.location.reload()},error:function(){},open:function(t){this.questionid=t,this.$creator.modal("show")},data:function(){return{title:this.$creator.find("input[name=title]").val()}}},t(document).ready(function(){e.questionnaire.question=new i})}(window.jQuery,window.app),function(t,e){"use strict";function i(){this.$container=t(".questions"),this.$right=t(".right"),this.sortables=".sortable",this.init()}"undefined"==typeof e.questionnaire&&(e.questionnaire={}),"undefined"==typeof e.questionnaire&&(e.questionnaire.question={}),i.prototype={init:function(){var e=this;this.panelid=t("#panel-id").val(),this.$container.find(this.sortables).sortable({update:function(){e.sort(t(this))}}),this.events()},events:function(){var e=this;this.$container.on("change","input[name=title]",function(){e.title(t(this))}),this.$container.on("change","textarea[name=question]",function(){e.question(t(this))}),this.$container.on("change",".summary_question",function(){e.summary_question(t(this))}),this.$container.on("change",".explainable",function(){e.explainable(t(this))}),this.$container.on("change",".multiple_choise",function(){e.multiple_choise(t(this))}),this.$container.on("change",".multiple_answer",function(){e.multiple_answer(t(this))}),this.$container.on("change",".name",function(){e.name(t(this))}),this.$right.on("change",".meta",function(){e.meta(t(this))})},route:function(t,e){switch("undefined"==typeof e&&(e=""),e){case"choise":return"/questions/"+t.closest(".question").data("question-id")+"/choises/"+t.closest("li").data("choise-id");case"sort":return"/questions/"+t.closest(".question").data("question-id")+"/choises/sort";default:return"/panels/"+this.panelid+"/questions/"+t.closest(".question").data("question-id")}},title:function(t){this.persist(this.route(t),{title:t.val()})},question:function(t){this.persist(this.route(t),{question:t.val()})},summary_question:function(t){this.persist(this.route(t),{summary_question:t.prop("checked")?1:0})},explainable:function(t){this.persist(this.route(t),{explainable:t.prop("checked")?1:0})},multiple_choise:function(t){this.persist(this.route(t),{multiple_choise:t.prop("checked")?1:0},function(){var e=t.closest(".right").find(".multiple_answer"),i=e.closest("div.checkbox"),n=t.closest(".question").find(".choises");t.prop("checked")?n.slideDown()&&i.fadeIn():n.slideUp()&&i.fadeOut()&&e.prop("checked",!1)})},multiple_answer:function(t){this.persist(this.route(t),{multiple_answer:t.prop("checked")?1:0})},name:function(t){this.persist(this.route(t,"choise"),{title:t.val()})},meta:function(t){this.persist(this.route(t,"meta"),{meta:t.val()})},sort:function(t){t.closest(".question");this.persist(this.route(t,"sort"),{positions:t.closest(".sortable").sortable("toArray")},!1,!1)},position:function(t){return t/10+1},persist:function(e,i,n,s){s="undefined"==typeof s?!0:!!s,s&&(i=t.extend({_method:"PUT"},i)),t.ajax({url:e,type:"POST",dataType:"json",data:i,success:function(){"function"==typeof n&&n()}})}},t(document).ready(function(){e.questionnaire.question.saver=new i})}(window.jQuery,window.app),!function(t){var e=function(e,n){if(this.element=t(e),this.format=i.parseFormat(n.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=t(i.template).appendTo("body").on({click:t.proxy(this.click,this)}),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.language=n.language,this.isInput?this.element.on({focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this)}):this.component?this.component.on("click",t.proxy(this.show,this)):this.element.on("click",t.proxy(this.show,this)),this.minViewMode=n.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=n.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=n.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=n.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};e.prototype={constructor:e,show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),!this.isInput;var i=this;t(document).on("mousedown",function(e){0==t(e.target).closest(".datepicker").length&&i.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var t=i.formatDate(this.date,this.format);this.isInput?this.element.prop("value",t):(this.component&&this.element.find("input").prop("value",t),this.element.data("date",t))},setValue:function(t){this.date="string"==typeof t?i.parseDate(t,this.format):new Date(t),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var t=this.component?this.component.offset():this.element.offset();this.picker.css({top:t.top+this.height,left:t.left})},update:function(t){this.date=i.parseDate("string"==typeof t?t:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+i.dates[this.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+i.dates[this.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").append(t)},fill:function(){var t=new Date(this.viewDate),e=t.getFullYear(),n=t.getMonth(),s=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(i.dates[this.language].months[n]+" "+e);var a=new Date(e,n-1,28,0,0,0,0),o=i.getDaysInMonth(a.getFullYear(),a.getMonth());a.setDate(o),a.setDate(o-(a.getDay()-this.weekStart+7)%7);var r=new Date(a);r.setDate(r.getDate()+42),r=r.valueOf();for(var c,h,d,l=[];a.valueOf()<r;)a.getDay()===this.weekStart&&l.push("<tr>"),c=this.onRender(a),h=a.getFullYear(),d=a.getMonth(),n>d&&h===e||e>h?c+=" old":(d>n&&h===e||h>e)&&(c+=" new"),a.valueOf()===s&&(c+=" active"),l.push('<td class="day '+c+'">'+a.getDate()+"</td>"),a.getDay()===this.weekEnd&&l.push("</tr>"),a.setDate(a.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(l.join(""));var u=this.date.getFullYear(),p=this.picker.find(".datepicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");u===e&&p.eq(this.date.getMonth()).addClass("active"),l="",e=10*parseInt(e/10,10);var f=this.picker.find(".datepicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");e-=1;for(var m=-1;11>m;m++)l+='<span class="year'+(-1===m||10===m?" old":"")+(u===e?" active":"")+'">'+e+"</span>",e+=1;f.html(l)},click:function(e){e.stopPropagation(),e.preventDefault();var n=t(e.target).closest("span, td, th");if(1===n.length)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+i.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+i.modes[this.viewMode].navFnc].call(this.viewDate)+i.modes[this.viewMode].navStep*("prev"===n[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(n.is(".month")){var s=n.parent().find("span").index(n);this.viewDate.setMonth(s)}else{var a=parseInt(n.text(),10)||0;this.viewDate.setFullYear(a)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(n.is(".day")&&!n.is(".disabled")){var o=parseInt(n.text(),10)||1,s=this.viewDate.getMonth();n.is(".old")?s-=1:n.is(".new")&&(s+=1);var a=this.viewDate.getFullYear();this.date=new Date(a,s,o,0,0,0,0),this.viewDate=new Date(a,s,Math.min(28,o),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})}}},mousedown:function(t){t.stopPropagation(),t.preventDefault()},showMode:function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show()}},t.fn.datepicker=function(i,n){return this.each(function(){var s=t(this),a=s.data("datepicker"),o="object"==typeof i&&i;a||s.data("datepicker",a=new e(this,t.extend({},t.fn.datepicker.defaults,o))),"string"==typeof i&&a[i](n)})},t.fn.datepicker.defaults={onRender:function(){return""}},t.fn.datepicker.Constructor=e;var i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},nl:{days:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag","Zondag"],daysShort:["Zon","Maa","Din","Woe","Don","Vri","Zat","Zon"],daysMin:["Zo","Ma","Di","Wo","Do","Vr","Za","Zo"],months:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],monthsShort:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"]}},isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,i.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},parseFormat:function(t){var e=t.match(/[.\/\-\s].*?/),i=t.split(/\W+/);if(!e||!i||0===i.length)throw new Error("Invalid date format.");return{separator:e,parts:i}},parseDate:function(t,e){var i,n=t.split(e.separator),t=new Date;if(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),n.length===e.parts.length){for(var s=t.getFullYear(),a=t.getDate(),o=t.getMonth(),r=0,c=e.parts.length;c>r;r++)switch(i=parseInt(n[r],10)||1,e.parts[r]){case"dd":case"d":a=i,t.setDate(i);break;case"mm":case"m":o=i-1,t.setMonth(i-1);break;case"yy":s=2e3+i,t.setFullYear(2e3+i);break;case"yyyy":s=i,t.setFullYear(i)}t=new Date(s,o,a,0,0,0)}return t},formatDate:function(t,e){var i={d:t.getDate(),m:t.getMonth()+1,yy:t.getFullYear().toString().substring(2),yyyy:t.getFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m;for(var t=[],n=0,s=e.parts.length;s>n;n++)t.push(i[e.parts[n]]);return t.join(e.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};i.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+i.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+"</table></div></div>"}(window.jQuery),function(t,e){t(document).ready(),e.datepickers(),e.getIds=function(e){var i=[];return e.closest("table").find("tbody td:first-child input:checked").each(function(){i.push(t(this).val())}),i},t(".actions").on("click",".select-all",function(e){t(this).closest("table").find("tbody tr td:first-child input:checkbox").each(function(){t(this).prop("checked",!0)}),e.preventDefault()}),t(".actions").on("click",".select-none",function(e){t(this).closest("table").find("tbody tr td:first-child input:checkbox").each(function(){t(this).prop("checked",!1)}),e.preventDefault()})}(window.jQuery,window.app);